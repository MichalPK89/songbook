<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Knockin' on Heaven's Door</title>

  <script src="https://unpkg.com/chordpro-js@2.0.3/dist/chordpro.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/chordpro-js@2.0.3/dist/chordpro.css">

  <style>
    body {
      font-family: sans-serif;
      max-width: 900px;
      margin: auto;
      padding: 20px;
    }
    button {
      margin-right: 10px;
    }
  </style>
</head>
<body>

<h1>Knockin' on Heaven's Door</h1>

<button onclick="transpose(1)">+ Transpose</button>
<button onclick="transpose(-1)">- Transpose</button>

<pre id="song"></pre>

<script>
const songText = `{title: Knockin' on Heaven's Door}
{artist: Bob Dylan}
{key: G}

[G]Mama take this [D]badge from [Am]me
[G]I can't use it any[D]more

[G]It's gettin' dark, too [D]dark to [Am]see
[G]Feels like I'm knockin' on heaven's [D]door
`;

let t = 0;

const parser = new chordpro.Parser();
const formatter = new chordpro.HtmlFormatter();

function render() {
  const song = parser.parse(songText);
  song.transpose(t);
  document.getElementById("song").innerHTML = formatter.format(song);
}

function transpose(n) {
  t += n;
  render();
}

render();
</script>

</body>
</html>
