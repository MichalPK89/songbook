<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>My Songbook</title>
  <script src="https://cdn.jsdelivr.net/npm/chordpro-js@3/dist/chordpro.min.js"></script>
  <style>
    body { font-family: sans-serif; max-width: 900px; margin: auto; padding: 20px; }
    pre { background: #f4f4f4; padding: 15px; }
    button { margin-right: 10px; }
  </style>
</head>
<body>

<h1>My Songbook ðŸŽµ</h1>

<button onclick="transpose(1)">+ Transpose</button>
<button onclick="transpose(-1)">- Transpose</button>

<pre id="song"></pre>

<script>
let songText = `
{title: Knockin' on Heaven's Door}
{artist: Bob Dylan}
{key: G}

[G]Mama take this [D]badge from [Am]me
[G]I can't use it any[D]more
`;

let currentTranspose = 0;
const parser = new chordpro.Parser();
const formatter = new chordpro.HtmlFormatter();

function render() {
  const song = parser.parse(songText);
  song.transpose(currentTranspose);
  document.getElementById("song").innerHTML = formatter.format(song);
}

function transpose(n) {
  currentTranspose += n;
  render();
}

render();
</script>

</body>
</html>
